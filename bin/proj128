#!/usr/bin/env python3

from argparse import ArgumentParser, REMAINDER
from os import getcwd, path
from subprocess import call

argparse = ArgumentParser(description = "Project 128 - Project Manager")

argparse.add_argument("-v", "--version", action = "version", version = "1.3.1")

argparse.add_argument("-p", "--project", default = getcwd(), help = "folder the project lies in (default: working directory)")

argparse.add_argument("script", help = "script to execute")
argparse.add_argument("args", help = "arguments to execute script with", nargs = REMAINDER)

args = argparse.parse_args()

exit(call([
    path.realpath(path.dirname(path.realpath(__file__)) + "/../cli/proj128"),
    path.realpath(args.project),
    args.script
] + args.args))
